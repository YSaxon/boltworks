
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>modules - Boltworks</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#boltworks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Boltworks" class="md-header__button md-logo" aria-label="Boltworks" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Boltworks
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              modules
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ysaxon/boltworks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    boltworks
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../installation/" class="md-tabs__link">
      installation
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../usage/" class="md-tabs__link">
      usage
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      modules
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contributing/" class="md-tabs__link">
      contributing
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../authors/" class="md-tabs__link">
      authors
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../history/" class="md-tabs__link">
      history
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Boltworks" class="md-nav__button md-logo" aria-label="Boltworks" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Boltworks
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ysaxon/boltworks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    boltworks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        usage
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        modules
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boltworks" class="md-nav__link">
    boltworks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.boltworks" class="md-nav__link">
    boltworks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.cli" class="md-nav__link">
    cli
  </a>
  
    <nav class="md-nav" aria-label="cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.cli.argparse_decorator" class="md-nav__link">
    argparse_decorator
  </a>
  
    <nav class="md-nav" aria-label="argparse_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.cli.argparse_decorator.argparse_command" class="md-nav__link">
    argparse_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.gui" class="md-nav__link">
    gui
  </a>
  
    <nav class="md-nav" aria-label="gui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui" class="md-nav__link">
    treenodeui
  </a>
  
    <nav class="md-nav" aria-label="treenodeui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.ButtonChildContainer" class="md-nav__link">
    ButtonChildContainer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode" class="md-nav__link">
    TreeNode
  </a>
  
    <nav class="md-nav" aria-label="TreeNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode.withSimpleSideButton" class="md-nav__link">
    withSimpleSideButton()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI" class="md-nav__link">
    TreeNodeUI
  </a>
  
    <nav class="md-nav" aria-label="TreeNodeUI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.post_single_node" class="md-nav__link">
    post_single_node()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.post_treenodes" class="md-nav__link">
    post_treenodes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.slack_block_optimize_treenode" class="md-nav__link">
    slack_block_optimize_treenode()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.helper" class="md-nav__link">
    helper
  </a>
  
    <nav class="md-nav" aria-label="helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers" class="md-nav__link">
    serializers
  </a>
  
    <nav class="md-nav" aria-label="serializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers.SignedSerializer" class="md-nav__link">
    SignedSerializer
  </a>
  
    <nav class="md-nav" aria-label="SignedSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers.SignedSerializer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authors/" class="md-nav__link">
        authors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        history
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boltworks" class="md-nav__link">
    boltworks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.boltworks" class="md-nav__link">
    boltworks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.cli" class="md-nav__link">
    cli
  </a>
  
    <nav class="md-nav" aria-label="cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.cli.argparse_decorator" class="md-nav__link">
    argparse_decorator
  </a>
  
    <nav class="md-nav" aria-label="argparse_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.cli.argparse_decorator.argparse_command" class="md-nav__link">
    argparse_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.gui" class="md-nav__link">
    gui
  </a>
  
    <nav class="md-nav" aria-label="gui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui" class="md-nav__link">
    treenodeui
  </a>
  
    <nav class="md-nav" aria-label="treenodeui">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.ButtonChildContainer" class="md-nav__link">
    ButtonChildContainer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode" class="md-nav__link">
    TreeNode
  </a>
  
    <nav class="md-nav" aria-label="TreeNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNode.withSimpleSideButton" class="md-nav__link">
    withSimpleSideButton()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI" class="md-nav__link">
    TreeNodeUI
  </a>
  
    <nav class="md-nav" aria-label="TreeNodeUI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.post_single_node" class="md-nav__link">
    post_single_node()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.TreeNodeUI.post_treenodes" class="md-nav__link">
    post_treenodes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boltworks.gui.treenodeui.slack_block_optimize_treenode" class="md-nav__link">
    slack_block_optimize_treenode()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boltworks.helper" class="md-nav__link">
    helper
  </a>
  
    <nav class="md-nav" aria-label="helper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers" class="md-nav__link">
    serializers
  </a>
  
    <nav class="md-nav" aria-label="serializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers.SignedSerializer" class="md-nav__link">
    SignedSerializer
  </a>
  
    <nav class="md-nav" aria-label="SignedSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boltworks.helper.serializers.SignedSerializer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/ysaxon/boltworks/edit/master/docs/api.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>modules</h1>

<div class="doc doc-object doc-module">

<a id="boltworks"></a>
    <div class="doc doc-contents first">

      <p>Top-level package for Boltworks.</p>



  <div class="doc doc-children">














  <div class="doc doc-object doc-module">



<h2 id="boltworks.boltworks" class="doc doc-heading">
        <code>boltworks</code>



<a href="#boltworks.boltworks" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Main module.</p>


    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boltworks.cli" class="doc doc-heading">
        <code>cli</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.cli" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="boltworks.cli.argparse_decorator" class="doc doc-heading">
        <code>argparse_decorator</code>



<a href="#boltworks.cli.argparse_decorator" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">












  <div class="doc doc-object doc-function">



<h4 id="boltworks.cli.argparse_decorator.argparse_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">argparse_command</span><span class="p">(</span><span class="n">argparser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">echo_back</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">do_ack</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">automagic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#boltworks.cli.argparse_decorator.argparse_command" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>This is the primary method for this feature. It is a decorator that you put onto your Slack Command Method to parse the arguments in the command and pass them to your function.</p>
<p>You can either construct an argparse.ArgumentParser yourself to do the work (better)
Or set automagic=True to have a simple ArgumentParser constructed for you based on your method signature (faster)</p>
<p>Any parameter names in your method signature which Slack would usually inject (eg 'args' or 'say' or 'logger' etc) will be passed through.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>argparser = argparse.ArgumentParser()
argparser.add_argument(&quot;--a&quot;, nargs=&quot;*&quot;, type=float)
argparser.add_argument(&quot;-b&quot;, type=int)
argparser.add_argument(&quot;c&quot;)
argparser.add_argument(&quot;d&quot;, nargs=&quot;?&quot;, default=&quot;default&quot;)

@app.command(&quot;/dothething&quot;)
@argparse_command(parser)
def your_method_name(args:Args, say, a, b, c, d):
    ...
</code></pre></div></td></tr></table></div>
<p>can be called as <code>/dothething cc dd --a 1 2 3 -b 5</code></p>
<p>In automagic mode, to have a parameter be called as --foo, make it KeywordOnly by placing it after a single asterisk. Otherwise the argument name is silent
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>@app.command(&quot;/dotheotherthing&quot;)
@argparse_command(automagic=True)
def your_method_name(args:Args, say, a:str, b:list[int], *, c:int, d:int):
    ...
</code></pre></div></td></tr></table></div>
can be called as <code>/dotheotherthing test 1 2 3 --d 6 --c 5</code></p>
<p>(You are allowed to use Automagic together with an ArgumentParser as well to fill in an extra arg not handled by the parser)</p>
<p>In both cases, the argparser library will always insert a <code>--help</code> parameter, though it will be better documented if you build your own ArgumentParser.
It's recommended when you configure the Command in Slack to configure the usage string as <code>[--help]</code> to let people know they can do that.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>argparser</code></td>
        <td><code>Optional[ArgumentParser]</code></td>
        <td><p>An optional argparse.ArgumentParser object with which to parse the arguments</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>echo_back</code></td>
        <td><code>bool</code></td>
        <td><p><em>description</em>. Defaults to True. Calls 'say' to echo back the command executed to the user before executing it.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>do_ack</code></td>
        <td><code>bool</code></td>
        <td><p><em>description</em>. Defaults to True. Calls Slack's ack() method for you upon succesful parsing, so you don't have to do it yourself.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>automagic</code></td>
        <td><code>bool</code></td>
        <td><p><em>description</em>. Defaults to False. Enables automagic parsing of arguments based on your method signature. Only supported on Python&gt;=3.9</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>various ValueErrors can be raised, generally at the time of creation of the argparse_handler</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/cli/argparse_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">argparse_command</span><span class="p">(</span><span class="n">argparser</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="n">ArgumentParser</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">echo_back</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">do_ack</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">automagic</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the primary method for this feature. It is a decorator that you put onto your Slack Command Method to parse the arguments in the command and pass them to your function.</span>

<span class="sd">    You can either construct an argparse.ArgumentParser yourself to do the work (better)</span>
<span class="sd">    Or set automagic=True to have a simple ArgumentParser constructed for you based on your method signature (faster)</span>

<span class="sd">    Any parameter names in your method signature which Slack would usually inject (eg &#39;args&#39; or &#39;say&#39; or &#39;logger&#39; etc) will be passed through.</span>

<span class="sd">    ```</span>
<span class="sd">    argparser = argparse.ArgumentParser()</span>
<span class="sd">    argparser.add_argument(&quot;--a&quot;, nargs=&quot;*&quot;, type=float)</span>
<span class="sd">    argparser.add_argument(&quot;-b&quot;, type=int)</span>
<span class="sd">    argparser.add_argument(&quot;c&quot;)</span>
<span class="sd">    argparser.add_argument(&quot;d&quot;, nargs=&quot;?&quot;, default=&quot;default&quot;)</span>

<span class="sd">    @app.command(&quot;/dothething&quot;)</span>
<span class="sd">    @argparse_command(parser)</span>
<span class="sd">    def your_method_name(args:Args, say, a, b, c, d):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>

<span class="sd">    can be called as `/dothething cc dd --a 1 2 3 -b 5`</span>

<span class="sd">    In automagic mode, to have a parameter be called as --foo, make it KeywordOnly by placing it after a single asterisk. Otherwise the argument name is silent</span>
<span class="sd">    ```</span>
<span class="sd">    @app.command(&quot;/dotheotherthing&quot;)</span>
<span class="sd">    @argparse_command(automagic=True)</span>
<span class="sd">    def your_method_name(args:Args, say, a:str, b:list[int], *, c:int, d:int):</span>
<span class="sd">        ...</span>
<span class="sd">    ```</span>
<span class="sd">    can be called as `/dotheotherthing test 1 2 3 --d 6 --c 5`</span>

<span class="sd">    (You are allowed to use Automagic together with an ArgumentParser as well to fill in an extra arg not handled by the parser)</span>


<span class="sd">    In both cases, the argparser library will always insert a `--help` parameter, though it will be better documented if you build your own ArgumentParser.</span>
<span class="sd">    It&#39;s recommended when you configure the Command in Slack to configure the usage string as `[--help]` to let people know they can do that.</span>

<span class="sd">    Args:</span>
<span class="sd">        argparser (Optional[ArgumentParser]): An optional argparse.ArgumentParser object with which to parse the arguments</span>
<span class="sd">        echo_back (bool, optional): _description_. Defaults to True. Calls &#39;say&#39; to echo back the command executed to the user before executing it.</span>
<span class="sd">        do_ack (bool, optional): _description_. Defaults to True. Calls Slack&#39;s ack() method for you upon succesful parsing, so you don&#39;t have to do it yourself.</span>
<span class="sd">        automagic (bool, optional): _description_. Defaults to False. Enables automagic parsing of arguments based on your method signature. Only supported on Python&gt;=3.9</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: various ValueErrors can be raised, generally at the time of creation of the argparse_handler</span>
<span class="sd">        * If there are conflicts between slack-reserved argnames and your argparser names</span>
<span class="sd">        * If you don&#39;t have automagic set to True and don&#39;t pass an ArgumentParser, or the ArgumentParser doesn&#39;t handle all your method&#39;s params</span>
<span class="sd">        * If you use automagic, but don&#39;t sufficiently type-hint your parameters, or the types are too complicated etc.</span>

<span class="sd">    &quot;&quot;&quot;</span>  
    <span class="k">if</span> <span class="ow">not</span> <span class="n">argparser</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">automagic</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;If you don&#39;t pass in an argparser, you must set automagic to True&quot;</span><span class="p">)</span>
        <span class="n">argparser</span><span class="o">=</span><span class="n">ArgumentParser</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">automagic</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;automagic mode is not supported on Python versions &lt; 3.9&quot;</span><span class="p">)</span>

    <span class="n">argparser_dests</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">dest</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">argparser</span><span class="o">.</span><span class="n">_actions</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">dest</span> <span class="o">!=</span><span class="s2">&quot;help&quot;</span><span class="p">]</span>

    <span class="n">argname_conflicts</span><span class="o">=</span><span class="p">[</span><span class="n">dest</span> <span class="k">for</span> <span class="n">dest</span> <span class="ow">in</span> <span class="n">argparser_dests</span> <span class="k">if</span> <span class="n">dest</span> <span class="ow">in</span> <span class="n">RESERVED_SLACK_ARGS</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">argname_conflicts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;One or more dest param names in your argparser conflict with built in param names used by slack bolt: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">argname_conflicts</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">Try setting the `dest` argument for those argparser actions to something else&quot;</span><span class="p">)</span>
    <span class="c1"># if &quot;args&quot; in argparser_dests:</span>
    <span class="c1">#     raise ValueError(f&quot;The &#39;args&#39; param name is reserved for Slack, so you can&#39;t use it for an argparser argument name.\nTry setting `the` dest parameter for that action to something else&quot;)</span>
    <span class="k">def</span> <span class="nf">_mid_func</span><span class="p">(</span><span class="n">decorated_function</span><span class="p">):</span>
        <span class="n">midfunc_argparser</span><span class="o">=</span><span class="n">argparser</span>
        <span class="n">deco_sig</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">decorated_function</span><span class="p">)</span>
        <span class="n">deco_argnames</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">deco_sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

        <span class="n">deco_varargs</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">deco_sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">kind</span><span class="o">==</span><span class="n">a</span><span class="o">.</span><span class="n">VAR_POSITIONAL</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">deco_varargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is a varargs `*</span><span class="si">{</span><span class="n">deco_varargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">` in the method signature of the method you are decorating, which is unsupported. Please use a list instead&quot;</span><span class="p">)</span>

        <span class="n">deco_varkwargs</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">deco_sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">kind</span><span class="o">==</span><span class="n">a</span><span class="o">.</span><span class="n">VAR_KEYWORD</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">deco_varkwargs</span><span class="p">:</span> <span class="c1">#if there is no **kwargs to handle extra arguments...</span>
            <span class="n">unhandled_arguments</span><span class="o">=</span><span class="p">[</span><span class="n">dest</span> <span class="k">for</span> <span class="n">dest</span> <span class="ow">in</span> <span class="n">argparser_dests</span>
                                 <span class="k">if</span> <span class="n">dest</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">deco_argnames</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">unhandled_arguments</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The argparser object you provided generates one or more arguments (</span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unhandled_arguments</span><span class="p">)</span><span class="si">}</span><span class="s2">) which are unhandled by the method you are decorating, nor does your method does not have a **kwargs to absorb them&quot;</span><span class="p">)</span>


        <span class="n">deco_extra_args_in_deco</span><span class="o">=</span><span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">deco_sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                                                  <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">kind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span><span class="o">.</span><span class="n">VAR_KEYWORD</span>
                                                  <span class="ow">and</span> <span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">RESERVED_SLACK_ARGS</span> 
                                                  <span class="ow">and</span> <span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">argparser_dests</span><span class="p">]</span>
        <span class="n">deco_extra_args_in_deco_without_defaults</span><span class="o">=</span><span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">deco_extra_args_in_deco</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="n">a</span><span class="o">.</span><span class="n">empty</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">automagic</span> <span class="ow">and</span> <span class="n">deco_extra_args_in_deco_without_defaults</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The method you are decorating has one or more parameters without defaults defined that your argparser is not set to fill:</span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">deco_extra_args_in_deco</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">automagic</span> <span class="ow">and</span> <span class="n">deco_extra_args_in_deco</span><span class="p">:</span>
            <span class="n">midfunc_argparser</span> <span class="o">=</span> <span class="n">automagically_add_args_to_argparser</span><span class="p">(</span><span class="n">decorated_function</span><span class="p">,</span> <span class="n">midfunc_argparser</span><span class="p">,</span> <span class="n">deco_extra_args_in_deco</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_inner_func_to_return_to_slack</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="n">Args</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">fn</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
                <span class="n">safe_post_in_blockquotes</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">respond</span><span class="p">,</span><span class="n">message</span><span class="p">)</span>
                <span class="n">args</span><span class="o">.</span><span class="n">ack</span><span class="p">()</span>
            <span class="n">innerfunc_argparser</span><span class="o">=</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">midfunc_argparser</span><span class="p">)</span><span class="c1">#so we can have _print_message be unique to each call</span>
            <span class="n">innerfunc_argparser</span><span class="o">.</span><span class="n">formatter_class</span><span class="o">=</span><span class="n">SlackArgParseFormatter</span>
            <span class="n">innerfunc_argparser</span><span class="o">.</span><span class="n">_print_message</span><span class="o">=</span><span class="n">fn</span>

            <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">command</span><span class="p">:</span>
                <span class="n">command_base</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">command</span><span class="p">[</span><span class="s1">&#39;command&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;command&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">command</span> <span class="k">else</span> <span class="s1">&#39;&lt;cmd&gt;&#39;</span>
                <span class="n">command_args</span><span class="o">=</span><span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">command</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="s1">&#39;text&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">command</span> <span class="k">else</span> <span class="p">[]</span>
            <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">message</span><span class="p">:</span>
                <span class="n">split_message</span><span class="o">=</span><span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
                <span class="n">command_base</span><span class="o">=</span><span class="n">split_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">command_args</span><span class="o">=</span><span class="n">split_message</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;This class is only to be used with @command or @message&quot;</span><span class="p">)</span>

            <span class="c1"># unfortunately it&#39;s not possible to perfectly strip out the markup formatting so for now we are just stripping out asterisks</span>
            <span class="c1"># whenever they add &#39;blocks&#39; to the command response, we can parse that to get the exact plaintext representation</span>
            <span class="c1"># see also https://stackoverflow.com/a/70627214/10773089</span>

            <span class="n">innerfunc_argparser</span><span class="o">.</span><span class="n">prog</span><span class="o">=</span><span class="n">command_base</span>

            <span class="c1">#maybe add more verbose explanation if you use `--var`` when it should have been `var`, or vice versa</span>
            <span class="n">parsed_params</span><span class="o">=</span><span class="nb">vars</span><span class="p">(</span><span class="n">innerfunc_argparser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">command_args</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">do_ack</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">ack</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">echo_back</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;*</span><span class="si">{</span><span class="n">command_base</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="p">(</span><span class="n">shlex</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command_args</span><span class="p">))</span><span class="si">}</span><span class="s2">*  </span><span class="se">\t</span><span class="s2">(run by &lt;@</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&gt;)&quot;</span><span class="p">)</span>

            <span class="n">available_slackvars_to_pass</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;args&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="nb">vars</span><span class="p">(</span><span class="n">args</span><span class="p">)}</span>
            <span class="k">if</span> <span class="n">deco_varkwargs</span><span class="p">:</span><span class="c1">#if there&#39;s a varkwargs then just pass everything</span>
                <span class="n">slackvars_to_pass</span><span class="o">=</span><span class="n">available_slackvars_to_pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">slackvars_to_pass</span><span class="o">=</span><span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">available_slackvars_to_pass</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">deco_argnames</span><span class="p">}</span> 
            <span class="k">return</span> <span class="n">decorated_function</span><span class="p">(</span><span class="o">**</span><span class="n">slackvars_to_pass</span><span class="p">,</span><span class="o">**</span><span class="n">parsed_params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_inner_func_to_return_to_slack</span>

    <span class="c1">#on init, it will return a function that does all the above stuff when run</span>
    <span class="k">return</span> <span class="n">_mid_func</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boltworks.gui" class="doc doc-heading">
        <code>gui</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.gui" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="boltworks.gui.treenodeui" class="doc doc-heading">
        <code>treenodeui</code>



<a href="#boltworks.gui.treenodeui" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h4 id="boltworks.gui.treenodeui.ButtonChildContainer" class="doc doc-heading">
        <code>
ButtonChildContainer            (<span title="boltworks.gui.treenodeui.ChildNodeContainer">ChildNodeContainer</span>)
        </code>



<a href="#boltworks.gui.treenodeui.ButtonChildContainer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The most basic child node container, this represents a button</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ChildNodeContainer</code></td>
        <td><code>_type_</code></td>
        <td><p><em>description</em></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ButtonChildContainer</span><span class="p">(</span><span class="n">ChildNodeContainer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The most basic child node container, this represents a button</span>

<span class="sd">    Args:</span>
<span class="sd">        ChildNodeContainer (_type_): _description_</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">child_nodes</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span><span class="n">expand_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_EXPAND</span><span class="p">,</span><span class="n">collapse_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_COLLAPSE</span><span class="p">,</span><span class="n">static_button_text</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">child_pageination</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">child_nodes</span><span class="o">=</span><span class="n">child_nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expand_button_format_string</span><span class="o">=</span><span class="n">expand_button_format_string</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">static_button_text</span> <span class="k">else</span> <span class="n">static_button_text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collapse_button_format_string</span> <span class="o">=</span> <span class="n">collapse_button_format_string</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">static_button_text</span> <span class="k">else</span> <span class="n">static_button_text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">child_pageination</span><span class="o">=</span><span class="n">child_pageination</span>
    <span class="k">def</span> <span class="nf">format_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">pointer_to_container</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">,</span> <span class="n">child_already_selected</span><span class="p">:</span><span class="nb">int</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InteractiveElement</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">child_already_selected</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="c1">#if not already selected then it should be an expand button</span>
            <span class="k">return</span> <span class="n">TreeNodeUI</span><span class="o">.</span><span class="n">_button_to_replace_block</span><span class="p">(</span><span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span>
                                                       <span class="n">expandpointer</span><span class="o">=</span><span class="n">pointer_to_container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#appending 0 to point to first node contained within this button</span>
                                                       <span class="p">,</span><span class="n">button_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expand_button_format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_nodes</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TreeNodeUI</span><span class="o">.</span><span class="n">_button_to_replace_block</span><span class="p">(</span><span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expandpointer</span><span class="o">=</span><span class="n">pointer_to_container</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#slicing off the last one to collapse this container and only show it&#39;s containing node</span>
                                                       <span class="p">,</span><span class="n">button_text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collapse_button_format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_nodes</span><span class="p">)),</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;danger&quot;</span><span class="p">)</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">forJsonDetails</span><span class="p">(</span><span class="n">jsonlike</span><span class="p">:</span><span class="nb">list</span><span class="o">|</span><span class="nb">dict</span><span class="p">,</span><span class="n">name</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s2">&quot;details&quot;</span><span class="p">,</span><span class="n">pageination</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">optimize_blocks</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">children</span><span class="p">,</span><span class="n">numchildren</span><span class="o">=</span><span class="n">_jsonlike_to_treenode_and_truenum_children</span><span class="p">(</span><span class="n">jsonlike</span><span class="p">,</span><span class="n">optimize_blocks</span><span class="o">=</span><span class="n">optimize_blocks</span><span class="p">,</span><span class="n">_level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">pageination</span><span class="o">=</span><span class="n">pageination</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ButtonChildContainer</span><span class="p">(</span>
                            <span class="n">children</span><span class="p">,</span>
                            <span class="n">expand_button_format_string</span><span class="o">=</span><span class="n">name</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numchildren</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="k">else</span> <span class="n">NAMELESS_FMT_STR_EXPAND</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numchildren</span><span class="p">),</span>
                            <span class="n">collapse_button_format_string</span><span class="o">=</span><span class="n">name</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numchildren</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="k">else</span> <span class="n">NAMELESS_FMT_STR_COLLAPSE</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">numchildren</span><span class="p">),</span>
                            <span class="n">child_pageination</span><span class="o">=</span><span class="n">pageination</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>









  <div class="doc doc-object doc-class">



<h4 id="boltworks.gui.treenodeui.TreeNode" class="doc doc-heading">
        <code>
TreeNode        </code>



<a href="#boltworks.gui.treenodeui.TreeNode" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The basic building block of this UI library, a Node has it's own Blocks, under formatblocks, and optionally, one or more child_containers containing one or more child nodes which can be expanded
If there is only one childNodeContainer it will by default be placed on the side of the first formatblock
If there is more than one, they will by default be placed on their own row, after the formatblocks
This behavior can be overriden with the <code>first_child_container_on_side</code> param</p>

        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The basic building block of this UI library, a Node has it&#39;s own Blocks, under formatblocks, and optionally, one or more child_containers containing one or more child nodes which can be expanded</span>
<span class="sd">    If there is only one childNodeContainer it will by default be placed on the side of the first formatblock</span>
<span class="sd">    If there is more than one, they will by default be placed on their own row, after the formatblocks</span>
<span class="sd">    This behavior can be overriden with the `first_child_container_on_side` param</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">formatblocks</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span><span class="n">Block</span><span class="p">,</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">children_containers</span><span class="p">:</span><span class="n">ChildNodeContainer</span><span class="o">|</span><span class="n">ChildNodeMenuContainer</span><span class="o">|</span><span class="nb">list</span><span class="p">[</span><span class="n">ChildNodeContainer</span><span class="o">|</span><span class="n">ChildNodeMenuContainer</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">first_child_container_on_side</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_expand_children_if_only_one</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_summary_</span>

<span class="sd">        Args:</span>
<span class="sd">            formatblocks (Union[list[Block],Block,str]): The formatting blocks for the node</span>
<span class="sd">            children_containers (ChildNodeContainer | ChildNodeMenuContainer | list[ChildNodeContainer | ChildNodeMenuContainer], optional): The whole point of the UI: these are interactive elements which if clicked/selected, will expand their child nodes underneath the node</span>
<span class="sd">            first_child_container_on_side (bool, optional): This overrides the default behavior, which is to put the first childNodeContainer on the side of the first formatting block IF it is the only childNodeContainer</span>
<span class="sd">            auto_expand_children_if_only_one (bool, optional): This option is deprecated and may be removed. It forces expand for any child that itself only has a single child node. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">=</span><span class="n">formatblocks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="o">=</span><span class="n">children_containers</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">children_containers</span><span class="p">,</span><span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">children_containers</span><span class="p">]</span> <span class="k">if</span> <span class="n">children_containers</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">first_child_container_on_side</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_child_container_on_side</span><span class="o">=</span><span class="n">first_child_container_on_side</span> <span class="c1"># override</span>
        <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_child_container_on_side</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span> <span class="c1"># default behavior for side placement</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auto_expand_children_if_only_one</span><span class="o">=</span><span class="n">auto_expand_children_if_only_one</span> <span class="c1">#delete?</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">toreturn</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="p">:</span>
            <span class="n">toreturn</span><span class="o">+=</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="p">)</span><span class="si">}</span><span class="s2"> children_containers, total grandchildren_nodes </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cc</span><span class="o">.</span><span class="n">child_nodes</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">cc</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="p">)</span><span class="si">}</span><span class="s2">) &quot;</span>
        <span class="n">toreturn</span><span class="o">+=</span><span class="s2">&quot;: &quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="n">toreturn</span><span class="o">+=</span><span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="n">SectionBlock</span><span class="p">):</span> <span class="n">toreturn</span><span class="o">+=</span><span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span> <span class="n">toreturn</span><span class="o">+=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">b</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">SectionBlock</span><span class="p">)</span> <span class="ow">and</span> <span class="n">b</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="n">b</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">toreturn</span>

    <span class="k">def</span> <span class="nf">text_formatting_as_str</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">#best try basis, not guaranteed to return correctly</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="k">return</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="n">SectionBlock</span><span class="p">):</span> <span class="k">return</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span> <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">fb</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">fb</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span> <span class="k">if</span> <span class="s1">&#39;text&#39;</span> <span class="ow">in</span> <span class="n">fb</span><span class="o">.</span><span class="n">attributes</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="s2">&quot;&quot;</span> <span class="c1">#or raise exception??</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">withSimpleSideButton</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span><span class="n">Block</span><span class="p">,</span><span class="nb">str</span><span class="p">],</span><span class="n">children</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="n">expand_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_EXPAND</span><span class="p">,</span><span class="n">collapse_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_COLLAPSE</span><span class="p">,</span><span class="n">child_pageination</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">TreeNode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A simple way to get a basic node with a side button expanding its children</span>

<span class="sd">        Args:</span>
<span class="sd">            formatblocks (Union[list[Block],Block,str]): the formatting blocks for the node itself</span>
<span class="sd">            children (list[TreeNode], optional): any children for the node</span>
<span class="sd">            expand_button_format_string (str, optional): a string for the side button if any, when it is not yet expanded, if {} is in the string, it will be replaced with the number of children</span>
<span class="sd">            collapse_button_format_string (str, optional):  a string for the side button if any, when it is already expanded, if {} is in the string, it will be replaced with the number of children</span>
<span class="sd">            child_pageination (int, optional): _description_. Defaults to 10.</span>

<span class="sd">        Returns:</span>
<span class="sd">            TreeNode: the treenode requested</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">,[</span><span class="n">ButtonChildContainer</span><span class="p">(</span><span class="n">children</span><span class="p">,</span><span class="n">expand_button_format_string</span><span class="p">,</span><span class="n">collapse_button_format_string</span><span class="p">,</span><span class="n">child_pageination</span><span class="o">=</span><span class="n">child_pageination</span><span class="p">)]</span> <span class="k">if</span> <span class="n">children</span> <span class="k">else</span> <span class="p">[])</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">fromJson</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="n">Block</span><span class="p">,</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">]],</span><span class="n">jsonlike</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span><span class="nb">dict</span><span class="p">],</span><span class="n">pageination</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">optimize_blocks</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">,[</span><span class="n">ButtonChildContainer</span><span class="o">.</span><span class="n">forJsonDetails</span><span class="p">(</span><span class="n">jsonlike</span><span class="p">,</span><span class="s2">&quot;details&quot;</span><span class="p">,</span><span class="n">pageination</span><span class="p">,</span><span class="n">optimize_blocks</span><span class="p">)])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="boltworks.gui.treenodeui.TreeNode.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formatblocks</span><span class="p">,</span> <span class="n">children_containers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">first_child_container_on_side</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_expand_children_if_only_one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.gui.treenodeui.TreeNode.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p><em>summary</em></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>formatblocks</code></td>
        <td><code>Union[list[Block],Block,str]</code></td>
        <td><p>The formatting blocks for the node</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>children_containers</code></td>
        <td><code>ChildNodeContainer | ChildNodeMenuContainer | list[ChildNodeContainer | ChildNodeMenuContainer]</code></td>
        <td><p>The whole point of the UI: these are interactive elements which if clicked/selected, will expand their child nodes underneath the node</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>first_child_container_on_side</code></td>
        <td><code>bool</code></td>
        <td><p>This overrides the default behavior, which is to put the first childNodeContainer on the side of the first formatting block IF it is the only childNodeContainer</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auto_expand_children_if_only_one</code></td>
        <td><code>bool</code></td>
        <td><p>This option is deprecated and may be removed. It forces expand for any child that itself only has a single child node. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">formatblocks</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span><span class="n">Block</span><span class="p">,</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">children_containers</span><span class="p">:</span><span class="n">ChildNodeContainer</span><span class="o">|</span><span class="n">ChildNodeMenuContainer</span><span class="o">|</span><span class="nb">list</span><span class="p">[</span><span class="n">ChildNodeContainer</span><span class="o">|</span><span class="n">ChildNodeMenuContainer</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">first_child_container_on_side</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">auto_expand_children_if_only_one</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;_summary_</span>

<span class="sd">    Args:</span>
<span class="sd">        formatblocks (Union[list[Block],Block,str]): The formatting blocks for the node</span>
<span class="sd">        children_containers (ChildNodeContainer | ChildNodeMenuContainer | list[ChildNodeContainer | ChildNodeMenuContainer], optional): The whole point of the UI: these are interactive elements which if clicked/selected, will expand their child nodes underneath the node</span>
<span class="sd">        first_child_container_on_side (bool, optional): This overrides the default behavior, which is to put the first childNodeContainer on the side of the first formatting block IF it is the only childNodeContainer</span>
<span class="sd">        auto_expand_children_if_only_one (bool, optional): This option is deprecated and may be removed. It forces expand for any child that itself only has a single child node. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">=</span><span class="n">formatblocks</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="o">=</span><span class="n">children_containers</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">children_containers</span><span class="p">,</span><span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">children_containers</span><span class="p">]</span> <span class="k">if</span> <span class="n">children_containers</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">first_child_container_on_side</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_child_container_on_side</span><span class="o">=</span><span class="n">first_child_container_on_side</span> <span class="c1"># override</span>
    <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_child_container_on_side</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children_containers</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span> <span class="c1"># default behavior for side placement</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">auto_expand_children_if_only_one</span><span class="o">=</span><span class="n">auto_expand_children_if_only_one</span> <span class="c1">#delete?</span>
</code></pre></div>
        </details>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="boltworks.gui.treenodeui.TreeNode.withSimpleSideButton" class="doc doc-heading">
<code class="highlight language-python"><span class="n">withSimpleSideButton</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">expand_button_format_string</span><span class="o">=</span><span class="s1">&#39;expand </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">collapse_button_format_string</span><span class="o">=</span><span class="s1">&#39;collapse </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">child_pageination</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#boltworks.gui.treenodeui.TreeNode.withSimpleSideButton" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A simple way to get a basic node with a side button expanding its children</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>formatblocks</code></td>
        <td><code>Union[list[Block],Block,str]</code></td>
        <td><p>the formatting blocks for the node itself</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>children</code></td>
        <td><code>list[TreeNode]</code></td>
        <td><p>any children for the node</p></td>
        <td><code>[]</code></td>
      </tr>
      <tr>
        <td><code>expand_button_format_string</code></td>
        <td><code>str</code></td>
        <td><p>a string for the side button if any, when it is not yet expanded, if {} is in the string, it will be replaced with the number of children</p></td>
        <td><code>&#39;expand {}&#39;</code></td>
      </tr>
      <tr>
        <td><code>collapse_button_format_string</code></td>
        <td><code>str</code></td>
        <td><p>a string for the side button if any, when it is already expanded, if {} is in the string, it will be replaced with the number of children</p></td>
        <td><code>&#39;collapse {}&#39;</code></td>
      </tr>
      <tr>
        <td><code>child_pageination</code></td>
        <td><code>int</code></td>
        <td><p><em>description</em>. Defaults to 10.</p></td>
        <td><code>10</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TreeNode</code></td>
      <td><p>the treenode requested</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">withSimpleSideButton</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">],</span><span class="n">Block</span><span class="p">,</span><span class="nb">str</span><span class="p">],</span><span class="n">children</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="n">expand_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_EXPAND</span><span class="p">,</span><span class="n">collapse_button_format_string</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="n">NAMELESS_FMT_STR_COLLAPSE</span><span class="p">,</span><span class="n">child_pageination</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">TreeNode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple way to get a basic node with a side button expanding its children</span>

<span class="sd">    Args:</span>
<span class="sd">        formatblocks (Union[list[Block],Block,str]): the formatting blocks for the node itself</span>
<span class="sd">        children (list[TreeNode], optional): any children for the node</span>
<span class="sd">        expand_button_format_string (str, optional): a string for the side button if any, when it is not yet expanded, if {} is in the string, it will be replaced with the number of children</span>
<span class="sd">        collapse_button_format_string (str, optional):  a string for the side button if any, when it is already expanded, if {} is in the string, it will be replaced with the number of children</span>
<span class="sd">        child_pageination (int, optional): _description_. Defaults to 10.</span>

<span class="sd">    Returns:</span>
<span class="sd">        TreeNode: the treenode requested</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">formatblocks</span><span class="p">,[</span><span class="n">ButtonChildContainer</span><span class="p">(</span><span class="n">children</span><span class="p">,</span><span class="n">expand_button_format_string</span><span class="p">,</span><span class="n">collapse_button_format_string</span><span class="p">,</span><span class="n">child_pageination</span><span class="o">=</span><span class="n">child_pageination</span><span class="p">)]</span> <span class="k">if</span> <span class="n">children</span> <span class="k">else</span> <span class="p">[])</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="boltworks.gui.treenodeui.TreeNodeUI" class="doc doc-heading">
        <code>
TreeNodeUI        </code>



<a href="#boltworks.gui.treenodeui.TreeNodeUI" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TreeNodeUI</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">app</span><span class="p">:</span><span class="n">App</span><span class="p">,</span><span class="n">kvstore</span><span class="p">:</span><span class="n">KVStore</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;This is the managing class for the NodeUI, which handles posting nodes and then responding to InteractiveElements to expand/contract node children</span>

<span class="sd">        Args:</span>
<span class="sd">            app (App): A Slack Bolt App instance, for posting and registering actionhandlers</span>
<span class="sd">            kvstore (_type_): a KVStore instance, for storing and looking up Nodes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">app</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix_for_callback</span><span class="si">}</span><span class="s2">.*&quot;</span><span class="p">))(</span><span class="bp">self</span><span class="o">.</span><span class="n">_do_callback_action</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="o">=</span><span class="n">ExpiringDict</span><span class="p">(</span><span class="n">max_age_seconds</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span><span class="n">max_len</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kvstore</span><span class="o">=</span><span class="n">kvstore</span> <span class="c1">#.namespaced(prefix_for_callback)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="o">=</span><span class="n">app</span><span class="o">.</span><span class="n">client</span>

    <span class="k">def</span> <span class="nf">post_single_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">:</span><span class="nb">str</span><span class="o">|</span><span class="n">Say</span><span class="o">|</span><span class="n">Respond</span><span class="p">,</span><span class="n">node</span><span class="p">:</span><span class="n">TreeNode</span><span class="p">,</span><span class="n">alt_text</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">expand_first</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Posts a Single Node</span>
<span class="sd">        Args:</span>
<span class="sd">            post_callable_or_channel: either an instance of Respond or Say, or a channelid to post to</span>
<span class="sd">            node (TreeNode): the node to post</span>
<span class="sd">            alt_text (str, optional): for notifications that require a simple string</span>
<span class="sd">            expand_first (bool, optional): if set to True, the Node will post with its first child container expanded [to its first menu option]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">say</span><span class="o">=</span><span class="n">Say</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_callable_or_channel</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">post_callable_or_channel</span>
        <span class="n">rootkey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">(),</span>
                                 <span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expand_first</span><span class="o">=</span><span class="n">expand_first</span><span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post_treenodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">:</span><span class="nb">str</span><span class="o">|</span><span class="n">Say</span><span class="o">|</span><span class="n">Respond</span><span class="p">,</span><span class="n">treenodes</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span><span class="n">post_all_together</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span><span class="n">global_header</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">*</span><span class="p">,</span><span class="n">message_if_none</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">expand_first_if_seperate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="o">**</span><span class="n">other_global_tn_kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Posts multiple Nodes together</span>

<span class="sd">        Args:</span>
<span class="sd">            post_callable_or_channel (Union[PostMethod,str]): either an instance of Respond or Say, or a channelid to post to</span>
<span class="sd">            treenodes (list[TreeNode]): the nodes to post</span>
<span class="sd">            post_all_together (bool): if True, will collect the nodes under a parent node so they can all be collapsed together to save space</span>
<span class="sd">            global_header (str, optional): if posting together, this will be the text of the parent node, otherwise just a header posted before the nodes</span>
<span class="sd">            message_if_none (str, optional): optionally, provide a string to post if there are no nodes</span>
<span class="sd">            expand_first_if_seperate (bool, optional): like expand_first for post_single_node, only effective if posting the blocks seperately</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">say</span><span class="o">=</span><span class="n">Say</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_callable_or_channel</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">post_callable_or_channel</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">treenodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">message_if_none</span><span class="p">:</span> <span class="n">say</span><span class="p">(</span><span class="n">message_if_none</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">post_all_together</span><span class="p">:</span>
            <span class="n">num_treenodes</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">treenodes</span><span class="p">)</span><span class="si">}</span><span class="s2">) &quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">treenodes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
            <span class="n">alt_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">global_header</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_treenodes</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">treenodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">()</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span><span class="p">,</span>
                <span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">.</span><span class="n">withSimpleSideButton</span><span class="p">(</span>
                    <span class="n">formatblocks</span><span class="o">=</span><span class="n">global_header</span> <span class="k">if</span> <span class="n">global_header</span> <span class="k">else</span> <span class="p">[],</span>
                    <span class="n">children</span><span class="o">=</span><span class="n">treenodes</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">other_global_tn_kwargs</span>
                <span class="p">)),</span><span class="n">expand_first</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">global_header</span><span class="p">:</span>
                <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">global_header</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">treenodes</span><span class="p">:</span>
                <span class="n">rootkey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">alt_text</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">()</span>
                <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span><span class="p">,</span><span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expand_first</span><span class="o">=</span><span class="n">expand_first_if_seperate</span><span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_rootkey_from_treenode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">node</span><span class="p">:</span><span class="n">TreeNode</span><span class="p">):</span>
        <span class="n">rootkey</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid1</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kvstore</span><span class="p">[</span><span class="n">rootkey</span><span class="p">]</span><span class="o">=</span><span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="p">[</span><span class="n">rootkey</span><span class="p">]</span><span class="o">=</span><span class="n">node</span>
        <span class="k">return</span> <span class="n">rootkey</span>

    <span class="k">def</span> <span class="nf">_get_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">TreeNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">rootkey</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="p">[</span><span class="n">rootkey</span><span class="p">]</span>
        <span class="n">root</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kvstore</span><span class="p">[</span><span class="n">rootkey</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="p">[</span><span class="n">rootkey</span><span class="p">]</span><span class="o">=</span><span class="n">root</span>
        <span class="k">return</span> <span class="n">root</span>

    <span class="k">def</span> <span class="nf">_do_callback_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">ack</span><span class="p">,</span><span class="n">action</span><span class="p">,</span><span class="n">respond</span><span class="p">):</span>
        <span class="c1"># if logging.root.level&lt;=logging.DEBUG:</span>
        <span class="c1">#     self.profiler.start()</span>
        <span class="n">ack</span><span class="p">()</span><span class="c1">#find a way of threading that maybe?</span>
        <span class="n">callback_data</span><span class="o">=</span><span class="n">action</span><span class="p">[</span><span class="s1">&#39;action_id&#39;</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix_for_callback</span><span class="p">):]</span>
        <span class="n">rootkey</span><span class="p">,</span><span class="n">expandpointer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_callback</span><span class="p">(</span><span class="n">callback_data</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;selected_option&#39;</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;selected_option&#39;</span> <span class="ow">in</span> <span class="n">action</span> <span class="ow">and</span> <span class="s1">&#39;value&#39;</span> <span class="ow">in</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;selected_option&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="c1">#deselect</span>
                <span class="n">expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="p">)</span>
        <span class="n">response</span><span class="o">=</span><span class="n">respond</span><span class="p">(</span><span class="n">replace_original</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">WebhookResponse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="o">!=</span><span class="mi">200</span><span class="p">:</span>
                <span class="n">respond</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;error in slack handling: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">body</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">replace_original</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s2">: error in slack handling: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">body</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
        <span class="c1"># if logging.root.level&lt;=logging.DEBUG:</span>
        <span class="c1">#     self.profiler.stop()</span>
        <span class="c1">#     print(self.profiler.output_text(unicode=True, color=True))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_button_to_replace_block</span><span class="p">(</span><span class="n">button_text</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">expandpointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">,</span><span class="o">**</span><span class="n">format_options</span><span class="p">):</span>
        <span class="n">serialized_data</span><span class="o">=</span><span class="n">TreeNodeUI</span><span class="o">.</span><span class="n">_serialize_callback</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expandpointer</span><span class="p">)</span>
        <span class="n">button</span><span class="o">=</span><span class="n">ButtonElement</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="n">button_text</span><span class="p">,</span>
            <span class="n">action_id</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">serialized_data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="o">**</span><span class="n">format_options</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">button</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_serialize_callback</span><span class="p">(</span><span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">expandpointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span>
        <span class="n">serialized_pointer</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">expandpointer</span><span class="p">])</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix_for_callback</span><span class="si">}{</span><span class="n">rootkey</span><span class="si">}</span><span class="s2">^</span><span class="si">{</span><span class="n">serialized_pointer</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_deserialize_callback</span><span class="p">(</span><span class="n">data</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="n">_ExpandPointer</span><span class="p">]:</span>
        <span class="n">rootkey</span><span class="p">,</span><span class="n">serialized_pointer</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">pointerelems</span><span class="o">=</span><span class="n">serialized_pointer</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">expandpointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pointerelems</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rootkey</span><span class="p">,</span><span class="n">expandpointer</span>

    <span class="k">def</span> <span class="nf">_format_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="o">*</span><span class="p">,</span><span class="n">expandpointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="mi">0</span><span class="p">]),</span><span class="n">expand_first</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">root</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_root</span><span class="p">(</span><span class="n">rootkey</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expand_first</span> <span class="ow">and</span> <span class="n">root</span><span class="o">.</span><span class="n">children_containers</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">children_containers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">ChildNodeContainer</span><span class="p">):</span>
                <span class="n">expandpointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">children_containers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">ChildNodeMenuContainer</span><span class="p">):</span>
                <span class="n">expandpointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">blocks_to_return</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_format_tree_recursive</span><span class="p">(</span>
                        <span class="n">parentnodes</span><span class="o">=</span><span class="p">[</span><span class="n">root</span><span class="p">],</span>
                        <span class="n">expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="p">,</span>
                        <span class="n">ancestral_pointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([]),</span>
                        <span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span>
                        <span class="n">parents_pagination</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                        <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="mi">0</span>
                    <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">blocks_to_return</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">50</span><span class="p">:</span><span class="c1">#this could probably be made more efficient, but for now, this should suffice</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">blocks_to_return</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">49</span><span class="p">:</span>
                <span class="n">diminish_pageination_by</span><span class="o">+=</span><span class="mi">1</span>
                <span class="n">blocks_to_return</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_format_tree_recursive</span><span class="p">(</span>
                            <span class="n">parentnodes</span><span class="o">=</span><span class="p">[</span><span class="n">root</span><span class="p">],</span>
                            <span class="n">expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="p">,</span>
                            <span class="n">ancestral_pointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([]),</span>
                            <span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span>
                            <span class="n">parents_pagination</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                            <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="n">diminish_pageination_by</span>
                        <span class="p">)</span>
            <span class="n">blocks_to_return</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ContextBlock</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="n">MarkdownTextObject</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;(blocks were repaginated to avoid exceeding slack limits)&quot;</span><span class="p">)]))</span>
        <span class="k">return</span> <span class="n">blocks_to_return</span>

    <span class="k">def</span> <span class="nf">_format_tree_recursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">parentnodes</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span>
                    <span class="n">expandpointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">,</span><span class="c1">#:list[int], #could just make last one the start_at pointer and only go deeper if theres more</span>
                    <span class="n">ancestral_pointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">,</span>
                    <span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">parents_pagination</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                    <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="mi">0</span> <span class="c1">#in case we exceed block limits, we can retry with some number here to recursively diminish the pageination</span>
                <span class="p">)</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">]:</span>
                <span class="n">parents_pagination</span><span class="o">=</span><span class="n">parents_pagination</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">diminish_pageination_by</span> <span class="k">else</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">parents_pagination</span><span class="o">-</span><span class="n">diminish_pageination_by</span><span class="p">)</span>
                <span class="n">child_insert</span><span class="p">,</span><span class="n">remaining_expandpointer</span><span class="o">=</span><span class="n">expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="n">num_parents</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">parentnodes</span><span class="p">)</span>
                <span class="n">start_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_startat</span><span class="p">(</span><span class="n">child_insert</span><span class="p">,</span><span class="n">parents_pagination</span><span class="p">)</span>
                <span class="n">end_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_endat</span><span class="p">(</span><span class="n">start_at</span><span class="p">,</span><span class="n">parents_pagination</span><span class="p">,</span><span class="n">num_parents</span><span class="p">)</span>
                <span class="n">blocks</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>
                <span class="n">before_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">blocks</span> <span class="k">for</span> <span class="n">number</span><span class="p">,</span><span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parentnodes</span><span class="p">[</span><span class="n">start_at</span><span class="p">:</span><span class="n">child_insert</span><span class="p">],</span><span class="n">start_at</span><span class="p">)</span> <span class="k">for</span> <span class="n">blocks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_formatblock</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">number</span><span class="p">),</span><span class="n">rootkey</span><span class="p">)]</span>
                <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">before_blocks</span><span class="p">)</span>
                <span class="n">blocks_for_pointed_node</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_formatblock</span><span class="p">(</span><span class="n">parentnodes</span><span class="p">[</span><span class="n">child_insert</span><span class="p">],</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child_insert</span><span class="p">),</span><span class="n">rootkey</span><span class="p">,</span><span class="n">remaining_expandpointer</span><span class="p">)</span>
                <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">blocks_for_pointed_node</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">remaining_expandpointer</span><span class="p">:</span><span class="c1">#if there are more nodes to expand in the pointer list</span>
                    <span class="n">new_parent</span><span class="o">=</span><span class="n">parentnodes</span><span class="p">[</span><span class="n">child_insert</span><span class="p">]</span>
                    <span class="n">children_containers</span><span class="o">=</span><span class="n">new_parent</span><span class="o">.</span><span class="n">children_containers</span>
                    <span class="k">if</span> <span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_parent</span><span class="o">.</span><span class="n">children_containers</span><span class="p">):</span>    <span class="c1">#transitional</span>
                        <span class="n">remaining_expandpointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>                                     <span class="c1">#transitional</span>
                        <span class="n">remaining_expandpointer</span><span class="o">=</span><span class="n">_ExpandPointer</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">)</span>
                    <span class="n">container_opened_index</span><span class="o">=</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">selected_container</span><span class="o">=</span><span class="n">children_containers</span><span class="p">[</span><span class="n">container_opened_index</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selected_container</span><span class="p">,</span><span class="n">ChildNodeContainer</span><span class="p">):</span>
                        <span class="n">selected_container_blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree_recursive</span><span class="p">(</span>
                            <span class="n">parentnodes</span><span class="o">=</span><span class="n">selected_container</span><span class="o">.</span><span class="n">child_nodes</span> <span class="k">if</span> <span class="n">selected_container</span><span class="o">.</span><span class="n">child_nodes</span> <span class="k">else</span> <span class="p">[</span><span class="n">TreeNode</span><span class="p">(</span><span class="s2">&quot;_(this pane is empty)_&quot;</span><span class="p">)],</span>
                            <span class="n">parents_pagination</span><span class="o">=</span><span class="n">selected_container</span><span class="o">.</span><span class="n">child_pageination</span><span class="p">,</span>
                            <span class="n">expandpointer</span><span class="o">=</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
                            <span class="n">ancestral_pointer</span><span class="o">=</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child_insert</span><span class="p">)</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                            <span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span>
                            <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="n">diminish_pageination_by</span>
                            <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span> 
                        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selected_container</span><span class="p">,</span><span class="n">ChildNodeMenuContainer</span><span class="p">)</span>
                        <span class="n">selected_container_blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree_recursive</span><span class="p">(</span>
                            <span class="n">parentnodes</span><span class="o">=</span><span class="n">selected_container</span><span class="o">.</span><span class="n">child_nodes</span><span class="p">[</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="k">if</span> <span class="n">selected_container</span><span class="o">.</span><span class="n">child_nodes</span> <span class="ow">and</span> <span class="n">selected_container</span><span class="o">.</span><span class="n">child_nodes</span><span class="p">[</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="k">else</span> <span class="p">[</span><span class="n">TreeNode</span><span class="p">(</span><span class="s2">&quot;_(this pane is empty)_&quot;</span><span class="p">)],</span>
                            <span class="n">parents_pagination</span><span class="o">=</span><span class="n">selected_container</span><span class="o">.</span><span class="n">child_pageination</span><span class="p">,</span>
                            <span class="n">expandpointer</span><span class="o">=</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">2</span><span class="p">:],</span><span class="c1">#since this contains multiple lists of nodes, we need two pointer indexes to find the next node to show</span>
                            <span class="n">ancestral_pointer</span><span class="o">=</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child_insert</span><span class="p">)</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="n">rootkey</span><span class="o">=</span><span class="n">rootkey</span><span class="p">,</span>
                            <span class="n">diminish_pageination_by</span><span class="o">=</span><span class="n">diminish_pageination_by</span>
                            <span class="p">)</span>
                    <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">selected_container_blocks</span><span class="p">)</span>


                <span class="n">after_blocks</span><span class="o">=</span> <span class="p">[</span><span class="n">blocks</span> <span class="k">for</span> <span class="n">number</span><span class="p">,</span><span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parentnodes</span><span class="p">[</span><span class="n">child_insert</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">end_at</span><span class="p">],</span><span class="n">child_insert</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">blocks</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_formatblock</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">number</span><span class="p">),</span><span class="n">rootkey</span><span class="p">)]</span>
                <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">after_blocks</span><span class="p">)</span>
                <span class="n">navig_blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_make_prev_next_buttons</span><span class="p">(</span><span class="n">usePrev</span><span class="o">=</span><span class="n">start_at</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span><span class="n">useNext</span><span class="o">=</span><span class="n">end_at</span><span class="o">&lt;</span><span class="n">num_parents</span><span class="p">,</span>
                <span class="n">prev_callback</span><span class="o">=</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">start_at</span><span class="o">-</span><span class="n">parents_pagination</span> <span class="k">if</span> <span class="n">start_at</span><span class="o">-</span><span class="n">parents_pagination</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)),</span>
                <span class="n">next_callback</span><span class="o">=</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">ancestral_pointer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">start_at</span><span class="o">+</span><span class="n">parents_pagination</span><span class="p">)))</span> <span class="c1">#if startat+parents_per_page&lt;num_parents else 0</span>
                <span class="k">if</span> <span class="n">navig_blocks</span><span class="p">:</span>
                    <span class="n">blocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">navig_blocks</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">blocks</span>

    <span class="k">def</span> <span class="nf">_formatblock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">node</span><span class="p">:</span><span class="n">TreeNode</span><span class="p">,</span>
                <span class="n">pointer_to_block</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="p">,</span>
                <span class="n">rootkey</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                <span class="n">remaining_expandpointer</span><span class="p">:</span><span class="n">_ExpandPointer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">blocks</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">Block</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
            <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="n">Block</span><span class="p">):</span>
            <span class="n">blocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">:</span>
            <span class="n">blocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">simple_slack_block</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">format_nth_container</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">remaining_expandpointer</span> <span class="ow">or</span> <span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">n</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">children_containers</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">format_container</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">pointer_to_block</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">child_selected</span><span class="o">=</span><span class="n">remaining_expandpointer</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children_containers</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="n">ChildNodeMenuContainer</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">remaining_expandpointer</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
                <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">children_containers</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">format_container</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">pointer_to_block</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="n">child_selected</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">children_containers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">first_child_container_on_side</span> <span class="ow">and</span> <span class="n">blocks</span> <span class="ow">and</span> <span class="s1">&#39;accessory&#39;</span> <span class="ow">in</span> <span class="n">blocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span> <span class="c1">#and not blocks[0].accessory</span>
                <span class="n">blocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">accessory</span><span class="o">=</span><span class="n">format_nth_container</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># type: ignore</span>
                <span class="n">start_at</span><span class="o">=</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">start_at</span><span class="o">=</span><span class="mi">0</span>

            <span class="n">after_blocks_container_elements</span><span class="o">=</span><span class="p">(</span><span class="n">format_nth_container</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_at</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children_containers</span><span class="p">)))</span>

            <span class="n">blocks</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ActionsBlock</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="n">buttons_chunk</span><span class="p">)</span> <span class="k">for</span> <span class="n">buttons_chunk</span> <span class="ow">in</span> <span class="n">chunked</span><span class="p">(</span><span class="n">after_blocks_container_elements</span><span class="p">,</span><span class="n">ActionsBlock</span><span class="o">.</span><span class="n">elements_max_length</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">blocks</span>

    <span class="k">def</span> <span class="nf">_make_prev_next_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">usePrev</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span><span class="n">useNext</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span><span class="n">prev_callback</span><span class="p">:</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="n">_ExpandPointer</span><span class="p">],</span><span class="n">next_callback</span><span class="p">:</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="n">_ExpandPointer</span><span class="p">])</span><span class="o">-&gt;</span><span class="n">Optional</span><span class="p">[</span><span class="n">ActionsBlock</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">usePrev</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">useNext</span><span class="p">):</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="n">buttons</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">if</span><span class="p">(</span><span class="n">usePrev</span><span class="p">):</span> <span class="n">buttons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_button_to_replace_block</span><span class="p">(</span><span class="s2">&quot;:arrow_left:&quot;</span><span class="p">,</span><span class="o">*</span><span class="n">prev_callback</span><span class="p">))</span>
        <span class="k">if</span><span class="p">(</span><span class="n">useNext</span><span class="p">):</span> <span class="n">buttons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_button_to_replace_block</span><span class="p">(</span><span class="s2">&quot;:arrow_right:&quot;</span><span class="p">,</span><span class="o">*</span><span class="n">next_callback</span><span class="p">))</span>
        <span class="n">navig_buttons</span><span class="o">=</span><span class="n">ActionsBlock</span><span class="p">(</span>
            <span class="n">elements</span><span class="o">=</span><span class="n">buttons</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">navig_buttons</span>

    <span class="k">def</span> <span class="nf">_startat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">,</span> <span class="n">pageinate</span><span class="p">):</span>
        <span class="n">mod</span><span class="o">=</span><span class="n">value</span><span class="o">%</span><span class="n">pageinate</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">-</span><span class="n">mod</span> <span class="k">if</span> <span class="n">value</span><span class="o">&gt;=</span><span class="n">pageinate</span> <span class="k">else</span> <span class="mi">0</span>


    <span class="k">def</span> <span class="nf">_endat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">startat</span><span class="p">,</span><span class="n">pageinate</span><span class="p">,</span><span class="n">length</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">startat</span><span class="o">+</span><span class="n">pageinate</span> <span class="k">if</span> <span class="n">startat</span><span class="o">+</span><span class="n">pageinate</span><span class="o">&lt;</span><span class="n">length</span> <span class="k">else</span> <span class="n">length</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="boltworks.gui.treenodeui.TreeNodeUI.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">kvstore</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.gui.treenodeui.TreeNodeUI.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>This is the managing class for the NodeUI, which handles posting nodes and then responding to InteractiveElements to expand/contract node children</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>App</code></td>
        <td><p>A Slack Bolt App instance, for posting and registering actionhandlers</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>kvstore</code></td>
        <td><code>_type_</code></td>
        <td><p>a KVStore instance, for storing and looking up Nodes</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">app</span><span class="p">:</span><span class="n">App</span><span class="p">,</span><span class="n">kvstore</span><span class="p">:</span><span class="n">KVStore</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is the managing class for the NodeUI, which handles posting nodes and then responding to InteractiveElements to expand/contract node children</span>

<span class="sd">    Args:</span>
<span class="sd">        app (App): A Slack Bolt App instance, for posting and registering actionhandlers</span>
<span class="sd">        kvstore (_type_): a KVStore instance, for storing and looking up Nodes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix_for_callback</span><span class="si">}</span><span class="s2">.*&quot;</span><span class="p">))(</span><span class="bp">self</span><span class="o">.</span><span class="n">_do_callback_action</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">expiring_root_dict</span><span class="o">=</span><span class="n">ExpiringDict</span><span class="p">(</span><span class="n">max_age_seconds</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span><span class="n">max_len</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">kvstore</span><span class="o">=</span><span class="n">kvstore</span> <span class="c1">#.namespaced(prefix_for_callback)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="o">=</span><span class="n">app</span><span class="o">.</span><span class="n">client</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="boltworks.gui.treenodeui.TreeNodeUI.post_single_node" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_single_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">post_callable_or_channel</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">alt_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expand_first</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#boltworks.gui.treenodeui.TreeNodeUI.post_single_node" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Posts a Single Node</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>post_callable_or_channel</code></td>
        <td><code>str | Say | Respond</code></td>
        <td><p>either an instance of Respond or Say, or a channelid to post to</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>node</code></td>
        <td><code>TreeNode</code></td>
        <td><p>the node to post</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>alt_text</code></td>
        <td><code>str</code></td>
        <td><p>for notifications that require a simple string</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expand_first</code></td>
        <td><code>bool</code></td>
        <td><p>if set to True, the Node will post with its first child container expanded [to its first menu option]</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post_single_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">:</span><span class="nb">str</span><span class="o">|</span><span class="n">Say</span><span class="o">|</span><span class="n">Respond</span><span class="p">,</span><span class="n">node</span><span class="p">:</span><span class="n">TreeNode</span><span class="p">,</span><span class="n">alt_text</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">expand_first</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Posts a Single Node</span>
<span class="sd">    Args:</span>
<span class="sd">        post_callable_or_channel: either an instance of Respond or Say, or a channelid to post to</span>
<span class="sd">        node (TreeNode): the node to post</span>
<span class="sd">        alt_text (str, optional): for notifications that require a simple string</span>
<span class="sd">        expand_first (bool, optional): if set to True, the Node will post with its first child container expanded [to its first menu option]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">say</span><span class="o">=</span><span class="n">Say</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_callable_or_channel</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">post_callable_or_channel</span>
    <span class="n">rootkey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">(),</span>
                             <span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expand_first</span><span class="o">=</span><span class="n">expand_first</span><span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="boltworks.gui.treenodeui.TreeNodeUI.post_treenodes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_treenodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">post_callable_or_channel</span><span class="p">,</span> <span class="n">treenodes</span><span class="p">,</span> <span class="n">post_all_together</span><span class="p">,</span> <span class="n">global_header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">message_if_none</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expand_first_if_seperate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">other_global_tn_kwargs</span><span class="p">)</span></code>


<a href="#boltworks.gui.treenodeui.TreeNodeUI.post_treenodes" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Posts multiple Nodes together</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>post_callable_or_channel</code></td>
        <td><code>Union[PostMethod,str]</code></td>
        <td><p>either an instance of Respond or Say, or a channelid to post to</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>treenodes</code></td>
        <td><code>list[TreeNode]</code></td>
        <td><p>the nodes to post</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>post_all_together</code></td>
        <td><code>bool</code></td>
        <td><p>if True, will collect the nodes under a parent node so they can all be collapsed together to save space</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>global_header</code></td>
        <td><code>str</code></td>
        <td><p>if posting together, this will be the text of the parent node, otherwise just a header posted before the nodes</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>message_if_none</code></td>
        <td><code>str</code></td>
        <td><p>optionally, provide a string to post if there are no nodes</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expand_first_if_seperate</code></td>
        <td><code>bool</code></td>
        <td><p>like expand_first for post_single_node, only effective if posting the blocks seperately</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post_treenodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">:</span><span class="nb">str</span><span class="o">|</span><span class="n">Say</span><span class="o">|</span><span class="n">Respond</span><span class="p">,</span><span class="n">treenodes</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span><span class="n">post_all_together</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span><span class="n">global_header</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">*</span><span class="p">,</span><span class="n">message_if_none</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">expand_first_if_seperate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="o">**</span><span class="n">other_global_tn_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Posts multiple Nodes together</span>

<span class="sd">    Args:</span>
<span class="sd">        post_callable_or_channel (Union[PostMethod,str]): either an instance of Respond or Say, or a channelid to post to</span>
<span class="sd">        treenodes (list[TreeNode]): the nodes to post</span>
<span class="sd">        post_all_together (bool): if True, will collect the nodes under a parent node so they can all be collapsed together to save space</span>
<span class="sd">        global_header (str, optional): if posting together, this will be the text of the parent node, otherwise just a header posted before the nodes</span>
<span class="sd">        message_if_none (str, optional): optionally, provide a string to post if there are no nodes</span>
<span class="sd">        expand_first_if_seperate (bool, optional): like expand_first for post_single_node, only effective if posting the blocks seperately</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">say</span><span class="o">=</span><span class="n">Say</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_slack_chat_client</span><span class="p">,</span><span class="n">post_callable_or_channel</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">post_callable_or_channel</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">post_callable_or_channel</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">treenodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">message_if_none</span><span class="p">:</span> <span class="n">say</span><span class="p">(</span><span class="n">message_if_none</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">post_all_together</span><span class="p">:</span>
        <span class="n">num_treenodes</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">treenodes</span><span class="p">)</span><span class="si">}</span><span class="s2">) &quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">treenodes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="n">alt_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">global_header</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_treenodes</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">treenodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">()</span><span class="si">}</span><span class="s2"> &quot;</span>
        <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span><span class="p">,</span>
            <span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">.</span><span class="n">withSimpleSideButton</span><span class="p">(</span>
                <span class="n">formatblocks</span><span class="o">=</span><span class="n">global_header</span> <span class="k">if</span> <span class="n">global_header</span> <span class="k">else</span> <span class="p">[],</span>
                <span class="n">children</span><span class="o">=</span><span class="n">treenodes</span><span class="p">,</span>
                <span class="o">**</span><span class="n">other_global_tn_kwargs</span>
            <span class="p">)),</span><span class="n">expand_first</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">global_header</span><span class="p">:</span>
            <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">global_header</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">treenodes</span><span class="p">:</span>
            <span class="n">rootkey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rootkey_from_treenode</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="n">alt_text</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">text_formatting_as_str</span><span class="p">()</span>
            <span class="n">say</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">alt_text</span><span class="p">,</span><span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_tree</span><span class="p">(</span><span class="n">rootkey</span><span class="p">,</span><span class="n">expand_first</span><span class="o">=</span><span class="n">expand_first_if_seperate</span><span class="p">),</span><span class="n">unfurl_links</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="boltworks.gui.treenodeui.slack_block_optimize_treenode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">slack_block_optimize_treenode</span><span class="p">(</span><span class="n">children</span><span class="p">)</span></code>


<a href="#boltworks.gui.treenodeui.slack_block_optimize_treenode" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>This method will try to reduce the number of formatting blocks used by a list of Treenode, to fit more blocks without pageinating or going over the slack limit of 50</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>children</code></td>
        <td><code>list[TreeNode]</code></td>
        <td><p>the nodes to optimize</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>list[TreeNode]</code></td>
      <td><p>a fewer number of nodes, with some adjacent ones combined</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boltworks/gui/treenodeui.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">slack_block_optimize_treenode</span><span class="p">(</span><span class="n">children</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method will try to reduce the number of formatting blocks used by a list of Treenode, to fit more blocks without pageinating or going over the slack limit of 50</span>

<span class="sd">    Args:</span>
<span class="sd">        children (list[TreeNode]): the nodes to optimize</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[TreeNode]: a fewer number of nodes, with some adjacent ones combined</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">children</span><span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
    <span class="n">out_children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">combined_node_buffer</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1">#will always be either None or a TreeNode with a str as formattingblocks</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_is_simple_text_block</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="ow">or</span> <span class="n">n</span><span class="o">.</span><span class="n">children_containers</span><span class="p">:</span> <span class="c1">#if the nodes have complicated blocks or children</span>
            <span class="k">if</span> <span class="n">combined_node_buffer</span><span class="p">:</span>
                <span class="n">out_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_node_buffer</span><span class="p">)</span> <span class="c1">#then just flush the buffer</span>
                <span class="n">combined_node_buffer</span><span class="o">=</span><span class="kc">None</span>
            <span class="n">out_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>                        <span class="c1">#and append this node</span>

        <span class="k">else</span><span class="p">:</span> <span class="c1">#a simple terminal block that we can combine with other ones to optimize block count:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="n">SectionBlock</span><span class="p">):</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span> <span class="c1">#convert it to using strings</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">,</span><span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">SectionBlock</span><span class="p">):</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">combined_node_buffer</span><span class="p">:</span>       <span class="c1">#if no buffer, just start one</span>
                <span class="n">combined_node_buffer</span><span class="o">=</span><span class="n">n</span>
            <span class="k">else</span><span class="p">:</span>                       <span class="c1">#otherwise add the string to existing combined_tn, assuming it fits in char limits</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">combined_node_buffer</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3000</span><span class="p">:</span><span class="c1">#slack char limits for a single section block</span>
                    <span class="n">combined_node_buffer</span><span class="o">.</span><span class="n">formatblocks</span><span class="o">+=</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">+</span><span class="n">n</span><span class="o">.</span><span class="n">formatblocks</span>

                <span class="k">else</span><span class="p">:</span> <span class="c1">#if would be over char limits, we have no choice but to flush the buffer and restart</span>
                    <span class="k">if</span> <span class="n">combined_node_buffer</span><span class="p">:</span> <span class="n">out_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_node_buffer</span><span class="p">)</span>
                    <span class="n">combined_node_buffer</span><span class="o">=</span><span class="n">n</span> <span class="c1">#set this block as new buffer</span>

    <span class="k">if</span> <span class="n">combined_node_buffer</span><span class="p">:</span> <span class="n">out_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_node_buffer</span><span class="p">)</span> <span class="c1">#flush the buffer one last time</span>
    <span class="k">return</span> <span class="n">out_children</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boltworks.helper" class="doc doc-heading">
        <code>helper</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.helper" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="boltworks.helper.serializers" class="doc doc-heading">
        <code>serializers</code>



<a href="#boltworks.helper.serializers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="boltworks.helper.serializers.SignedSerializer" class="doc doc-heading">
        <code>
SignedSerializer            (<span title="boltworks.helper.serializers.Serializer">Serializer</span>)
        </code>



<a href="#boltworks.helper.serializers.SignedSerializer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>boltworks/helper/serializers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SignedSerializer</span><span class="p">(</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">serializer</span><span class="p">:</span><span class="n">Serializer</span><span class="p">,</span><span class="n">symmetric_key</span><span class="p">,</span><span class="n">max_age</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span><span class="o">=</span><span class="mi">3600</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">90</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="o">=</span><span class="n">itsdangerous</span><span class="o">.</span><span class="n">TimestampSigner</span><span class="p">(</span><span class="n">symmetric_key</span><span class="p">)</span> <span class="k">if</span> <span class="n">max_age</span> <span class="k">else</span> <span class="n">itsdangerous</span><span class="o">.</span><span class="n">Signer</span><span class="p">(</span><span class="n">symmetric_key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_age</span><span class="o">=</span><span class="n">max_age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serializer</span><span class="o">=</span><span class="n">serializer</span>

    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">:</span><span class="n">Any</span><span class="p">):</span>
        <span class="n">serialized</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_serializer</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">signed</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">signed</span>

    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">signed_serialized</span><span class="p">:</span><span class="nb">bytes</span><span class="p">):</span>
        <span class="n">unsigned</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="o">.</span><span class="n">unsign</span><span class="p">(</span><span class="n">signed_value</span><span class="o">=</span><span class="n">signed_serialized</span><span class="p">,</span><span class="n">max_age</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_age</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="p">,</span><span class="n">itsdangerous</span><span class="o">.</span><span class="n">TimestampSigner</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="o">.</span><span class="n">unsign</span><span class="p">(</span><span class="n">signed_value</span><span class="o">=</span><span class="n">signed_serialized</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serializer</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">unsigned</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;serializing this class is not allowed, for security reasons&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h5 id="boltworks.helper.serializers.SignedSerializer.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serializer</span><span class="p">,</span> <span class="n">symmetric_key</span><span class="p">,</span> <span class="n">max_age</span><span class="o">=</span><span class="mi">7776000</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boltworks.helper.serializers.SignedSerializer.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Initialize self.  See help(type(self)) for accurate signature.</p>

        <details class="quote">
          <summary>Source code in <code>boltworks/helper/serializers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">serializer</span><span class="p">:</span><span class="n">Serializer</span><span class="p">,</span><span class="n">symmetric_key</span><span class="p">,</span><span class="n">max_age</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span><span class="o">=</span><span class="mi">3600</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">90</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_signer</span><span class="o">=</span><span class="n">itsdangerous</span><span class="o">.</span><span class="n">TimestampSigner</span><span class="p">(</span><span class="n">symmetric_key</span><span class="p">)</span> <span class="k">if</span> <span class="n">max_age</span> <span class="k">else</span> <span class="n">itsdangerous</span><span class="o">.</span><span class="n">Signer</span><span class="p">(</span><span class="n">symmetric_key</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_age</span><span class="o">=</span><span class="n">max_age</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_serializer</span><span class="o">=</span><span class="n">serializer</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>





  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../usage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: usage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              usage
            </div>
          </div>
        </a>
      
      
        
        <a href="../contributing/" class="md-footer__link md-footer__link--next" aria-label="Next: contributing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              contributing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="http://www.jieyu.ai" target="_blank" rel="noopener" title="Tweet" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    <a href="http://www.jieyu.ai" target="_blank" rel="noopener" title="Facebook" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
    </a>
  
    
    
    <a href="https://github.com/ysaxon/boltworks" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto:ysaxon@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>